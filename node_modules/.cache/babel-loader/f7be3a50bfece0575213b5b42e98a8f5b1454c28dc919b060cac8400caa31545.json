{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../styles/Programmation.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Programmation=()=>{const[concerts,setConcerts]=useState([]);const[filteredConcerts,setFilteredConcerts]=useState([]);const[selectedDate,setSelectedDate]=useState('');// État pour la date sélectionnée\nconst[selectedVenue,setSelectedVenue]=useState('');// État pour le lieu sélectionné\nconst[selectedTime,setSelectedTime]=useState('');// État pour l'heure sélectionnée\nuseEffect(()=>{// Requête AJAX pour récupérer les événements depuis WordPress\nconst categories='concert,animation';// Liste des catégories\nconst perPage=25;fetch(\"http://cjezdhm.cluster029.hosting.ovh.net/wp-json/tribe/events/v1/events?categories=\".concat(categories,\"&per_page=\").concat(perPage)).then(response=>response.json()).then(data=>{setConcerts(data.events);setFilteredConcerts(data.events);}).catch(error=>console.error('Erreur lors de la récupération des événements :',error));},[]);// Filtre les concerts en fonction des filtres sélectionnés\nuseEffect(()=>{let filteredData=concerts;// Filtre par date\nif(selectedDate){filteredData=filteredData.filter(concert=>concert.start_date.includes(selectedDate));}// Filtre par lieu\nif(selectedVenue){filteredData=filteredData.filter(concert=>concert.venue.venue===selectedVenue);}// Filtre par heure\nif(selectedTime){filteredData=filteredData.filter(concert=>{const concertTime=new Date(concert.start_date).getHours();return concertTime.toString()===selectedTime;});}setFilteredConcerts(filteredData);},[selectedDate,selectedVenue,selectedTime,concerts]);// Récupére les options de filtre pour les menus déroulants\nconst datesOptions=Array.from(new Set(concerts.map(concert=>concert.start_date.slice(0,10))));const venuesOptions=Array.from(new Set(concerts.map(concert=>concert.venue.venue)));const timesOptions=Array.from(new Set(concerts.map(concert=>new Date(concert.start_date).getHours().toString())));return/*#__PURE__*/_jsxs(\"div\",{className:\"programmation\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pt-3 pb-4 text-center\",children:\"PROGRAMMATION\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-container text-center pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateFilter\",className:\"pe-2\",children:\"Filtrer par date:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"dateFilter\",className:\"button py-2 px-2\",onChange:e=>setSelectedDate(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les dates\"}),datesOptions.map(date=>/*#__PURE__*/_jsx(\"option\",{value:date,children:date},date))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"venueFilter\",className:\"pe-2\",children:\"Filtrer par sc\\xE8ne:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"venueFilter\",className:\"button py-2 px-2\",onChange:e=>setSelectedVenue(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les lieux\"}),venuesOptions.map(venue=>/*#__PURE__*/_jsx(\"option\",{value:venue,children:venue},venue))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-item mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"timeFilter\",className:\"pe-2\",children:\"Filtrer par heure:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"timeFilter\",className:\"button py-2 px-2\",onChange:e=>setSelectedTime(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les heures\"}),timesOptions.map(time=>/*#__PURE__*/_jsx(\"option\",{value:time,children:time},time))]})]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"mb-0 px-3\",children:filteredConcerts.map(concert=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:concert.title}),/*#__PURE__*/_jsx(\"p\",{children:concert.venue.venue}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date et Heure: \",concert.start_date]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"horizontal-line mb-0 pb-2\"})]},concert.id))})]});};export default Programmation;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Programmation","concerts","setConcerts","filteredConcerts","setFilteredConcerts","selectedDate","setSelectedDate","selectedVenue","setSelectedVenue","selectedTime","setSelectedTime","categories","perPage","fetch","concat","then","response","json","data","events","catch","error","console","filteredData","filter","concert","start_date","includes","venue","concertTime","Date","getHours","toString","datesOptions","Array","from","Set","map","slice","venuesOptions","timesOptions","className","children","htmlFor","id","onChange","e","target","value","date","time","Fragment","title"],"sources":["/Users/Workflow/concrete-jungle-festival/src/components/Programmation.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../styles/Programmation.css';\n\nconst Programmation = () => {\n  const [concerts, setConcerts] = useState([]);\n  const [filteredConcerts, setFilteredConcerts] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(''); // État pour la date sélectionnée\n  const [selectedVenue, setSelectedVenue] = useState(''); // État pour le lieu sélectionné\n  const [selectedTime, setSelectedTime] = useState(''); // État pour l'heure sélectionnée\n\n  useEffect(() => {\n    // Requête AJAX pour récupérer les événements depuis WordPress\n    const categories = 'concert,animation'; // Liste des catégories\n  const perPage = 25;\n\n  fetch(`http://cjezdhm.cluster029.hosting.ovh.net/wp-json/tribe/events/v1/events?categories=${categories}&per_page=${perPage}`)\n      .then(response => response.json())\n      .then(data => {\n        setConcerts(data.events);\n        setFilteredConcerts(data.events);\n      })\n      .catch(error => console.error('Erreur lors de la récupération des événements :', error));\n  }, []);\n\n  // Filtre les concerts en fonction des filtres sélectionnés\n  useEffect(() => {\n    let filteredData = concerts;\n\n    // Filtre par date\n    if (selectedDate) {\n      filteredData = filteredData.filter(concert => concert.start_date.includes(selectedDate));\n    }\n\n    // Filtre par lieu\n    if (selectedVenue) {\n      filteredData = filteredData.filter(concert => concert.venue.venue === selectedVenue);\n    }\n\n    // Filtre par heure\n    if (selectedTime) {\n      filteredData = filteredData.filter(concert => {\n        const concertTime = new Date(concert.start_date).getHours();\n        return concertTime.toString() === selectedTime;\n      });\n    }\n\n    setFilteredConcerts(filteredData);\n  }, [selectedDate, selectedVenue, selectedTime, concerts]);\n\n  // Récupére les options de filtre pour les menus déroulants\n  const datesOptions = Array.from(new Set(concerts.map(concert => concert.start_date.slice(0, 10))));\n  const venuesOptions = Array.from(new Set(concerts.map(concert => concert.venue.venue)));\n  const timesOptions = Array.from(new Set(concerts.map(concert => new Date(concert.start_date).getHours().toString())));\n\n  return (\n    <div className='programmation'>\n      <h2 className='pt-3 pb-4 text-center'>PROGRAMMATION</h2>\n      \n      \n      <div className=\"filter-container text-center pb-4\">\n      {/* Menu déroulant pour la date */}\n      <div className=\"filter-item mb-2\">\n        <label htmlFor=\"dateFilter\" className='pe-2'>Filtrer par date:</label>\n        <select id=\"dateFilter\" className='button py-2 px-2' onChange={(e) => setSelectedDate(e.target.value)}>\n          <option value=\"\">Toutes les dates</option>\n          {datesOptions.map(date => (\n            <option key={date} value={date}>{date}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Menu déroulant pour le lieu */}\n      <div className=\"filter-item mb-2\">\n        <label htmlFor=\"venueFilter\" className='pe-2'>Filtrer par scène:</label>\n        <select id=\"venueFilter\" className='button py-2 px-2' onChange={(e) => setSelectedVenue(e.target.value)}>\n          <option value=\"\">Tous les lieux</option>\n          {venuesOptions.map(venue => (\n            <option key={venue} value={venue}>{venue}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Menu déroulant pour l'heure */}\n      <div className=\"filter-item mb-2\">\n        <label htmlFor=\"timeFilter\" className='pe-2'>Filtrer par heure:</label>\n        <select id=\"timeFilter\" className='button py-2 px-2' onChange={(e) => setSelectedTime(e.target.value)}>\n          <option value=\"\">Toutes les heures</option>\n          {timesOptions.map(time => (\n            <option key={time} value={time}>{time}</option>\n          ))}\n        </select>\n      </div>\n    </div>\n\n      <ul className='mb-0 px-3'>\n        {filteredConcerts.map(concert => (\n          <React.Fragment key={concert.id}>\n            <li>\n              <h3>{concert.title}</h3>\n              <p>{concert.venue.venue}</p>\n              <p>Date et Heure: {concert.start_date}</p>\n              </li>\n            <hr className='horizontal-line mb-0 pb-2' />\n          </React.Fragment>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Programmation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}